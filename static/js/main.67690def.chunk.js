(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{115:function(t,e,c){"use strict";c.r(e);var n=c(0),s=c(1),a=c.n(s),i=c(37),r=c.n(i),j=(c(91),c(22)),l=c.n(j),d=c(38),o=c(4),h=c(39),u=c.n(h),b=Object(s.createContext)(),x="e1ec43e71a98cc14a4799aabd7b70c27",O=function(t){var e=Object(s.useState)([]),c=Object(o.a)(e,2),a=c[0],i=c[1],r=Object(s.useState)(""),j=Object(o.a)(r,2),h=j[0],O=j[1],m=Object(s.useState)("https://api.openweathermap.org/data/2.5/forecast?q=vancouver&appid=".concat(x)),p=Object(o.a)(m,2),f=p[0],g=p[1],v=Object(s.useState)(!1),w=Object(o.a)(v,2),y=w[0],N=w[1];Object(s.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!1),t.prev=1,t.next=4,u()(f);case 4:e=t.sent,i(e.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),N(!0),console.log("error: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}})()()}),[f]);return Object(n.jsx)(b.Provider,{value:{city:h,forecast:a,isError:y,handleSearchChange:function(t){O(t.target.value)},handleSubmit:function(t){g("https://api.openweathermap.org/data/2.5/forecast?q=".concat(h,"&appid=").concat(x)),t.preventDefault()}},children:t.children})},m=c(40),p=c(41),f=function(){var t=Object(s.useContext)(b),e=t.handleSubmit,c=t.handleSearchChange,a=t.city;return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:e,children:[Object(n.jsx)("input",{type:"text",name:"city",value:a,onChange:c,placeholder:"Search City...",className:"search-input"}),Object(n.jsx)("button",{className:"search-btn",children:Object(n.jsx)(m.a,{style:{color:"white"},icon:p.a})})]})})},g=function(){return Object(n.jsx)("div",{className:"nav-bar",children:Object(n.jsx)(f,{})})},v="wi-thunderstorm",w="wi-sleet",y="wi-rain",N="wi-snow",C="wi-fog",S="wi-day-sunny",E="wi-cloud",M="wi-night-clear",k="wi-night-alt-cloudy",A="wi-night-fog",B="wi-night-snow",D="wi-night-rain",F="wi-night-showers",T="wi-night-thunderstorm",I=function(t){var e;return t>=200&&t<232||t>=300&&t<=321?e=v:t>=500&&t<=521?e=y:t>=600&&t<=622?e=N:t>=701&&t<=781?e=C:800===t?e=S:t>=801&&t<=804&&(e=E),e},R=(c(8),function(){var t=Object(s.useContext)(b).forecast;return Object(n.jsx)("div",{className:"content-container",children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:[t.city.name,", ",t.city.country]}),Object(n.jsx)("h3",{children:t.list[0].weather[0].main}),Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:80},children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:Object(n.jsx)("i",{className:"wi ".concat(function(e){var c,n=t.city.sunrise,s=t.city.sunset,a=t.list[0].dt;return e>=200&&e<232?c=s<a||a<=n?T:v:e>=300&&e<=321?c=s<a||a<=n?F:w:e>=500&&e<=521?c=s<a||a<=n?D:y:e>=600&&e<=622?c=s<a||a<=n?B:N:e>=701&&e<=781?c=s<a||a<=n?A:C:800===e?c=s<a||a<=n?M:S:e>=801&&e<=804&&(c=s<a||a<=n?k:E),c}(t.list[0].weather[0].id)),style:{fontSize:80}})})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h1",{style:{fontSize:50},children:[Math.floor(t.list[0].main.temp-273.15),"\xb0"]})})]}),Object(n.jsxs)("h3",{children:[t.list[0].weather[0].description," currently."]})]})})}),_=c(5),P=function(){var t=Object(s.useContext)(b).forecast,e=Object(s.useState)([]),c=Object(o.a)(e,2),a=c[0],i=c[1],r=Object(s.useState)(99),j=Object(o.a)(r,2),l=j[0],d=j[1],h=Object(s.useState)(-99),u=Object(o.a)(h,2),x=u[0],O=u[1],m=Object(s.useRef)();return Object(s.useEffect)((function(){!function(){for(var e=t.list[0],c=[],n=99,s=-99,a=0;a<8;a++)s=(e=t.list[a]).main.temp-273>s?Math.round(e.main.temp-273):s,n=e.main.temp-273<n?Math.round(e.main.temp-273):n,c.push({temp:e.main.temp-273,time:e.dt_txt.substr(e.dt_txt.length-8,e.dt_txt.length).substr(0,5),icon:e.weather[0].icon,idx:a-0});i(c),d(n-2),O(s+2)}()}),[t]),Object(s.useEffect)((function(){var t=Object(_.f)(m.current),e=document.getElementsByClassName("svg")[0].getClientRects()[0].width,c=document.getElementsByClassName("svg")[0].getClientRects()[0].height,n=Object(_.d)().domain(a.map((function(t){return t.time}))).paddingOuter(-.55).rangeRound([0,e]),s=Object(_.e)().domain([0,a.length-1]).range([0,e]),i=Object(_.e)().domain([l-273,x-273]).range([c,0]),r=Object(_.b)(n);t.select(".x-axis").style("transform","translateY(".concat(c,"px)")).call(r);var j=Object(_.c)().x((function(t,e){return s(e)})).y(i),d=Object(_.a)().x((function(t,e){return s(e)})).y0(c).y1(i);8===document.getElementById("tg").childElementCount&&t.select(".text-group").selectAll("text").remove(),8===document.getElementById("icons").childElementCount&&t.select(".icon-group").selectAll("image").remove(),t.selectAll("path").data([a.map((function(t){return Math.round(t.temp-273)}))]).attr("class","area").style("transform","translateY(-".concat(c,"px)")).transition().attr("d",d).attr("fill","#f3e98e").attr("stroke","none"),t.selectAll(".line").data([a.map((function(t){return Math.round(t.temp-273)}))]).join("path").attr("class","line").transition().attr("d",j).attr("fill","none").attr("stroke","#f5e133").attr("stroke-width","5"),t.select(".text-group").raise().selectAll("text").data(a).enter().append("text").attr("class","text").transition().attr("x",(function(t){return t.idx*(e/7-1.5)})).attr("y",(function(t){return Math.round(c-(Math.round(t.temp)-l)*c/(x-l)-12)})).text((function(t){return"".concat(Math.round(t.temp),"\xb0")})),t.select(".icon-group").raise().selectAll("image").data(a).enter().append("image").attr("href",(function(t){return"http://openweathermap.org/img/wn/".concat(t.icon,"@2x.png")})).attr("class","icon").attr("alt"," ").attr("height","50").attr("width","50").style("transform","translateX(-".concat(e/7-2.5,"px)")).attr("x",(function(t){return t.idx*(e/7)})).attr("y",c+20)}),[a]),Object(n.jsx)("div",{className:"content-container",children:Object(n.jsx)("div",{id:"parent",className:"center-container",children:Object(n.jsxs)("svg",{ref:m,className:"svg",children:[Object(n.jsx)("g",{className:"x-axis"}),Object(n.jsx)("g",{className:"y-axis"}),Object(n.jsx)("g",{className:"text-group",id:"tg"}),Object(n.jsx)("g",{className:"icon-group",id:"icons"})]})})})},q=function(t){for(var e=Object(s.useContext)(b).forecast,c=[],a=0;a<e.list.length;a+=8)c.push({icon:e.list[a].weather[0].id,date:e.list[a].dt_txt,temp:Math.floor(e.list[a].main.temp-273.15),rain:Math.floor(100*e.list[a].pop),humid:e.list[a].main.humidity});var i=(new Date).getDay(),r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return Object(n.jsxs)("div",{className:"table-container",children:[Object(n.jsx)("h2",{children:"5 Days Forecast"}),Object(n.jsxs)("table",{className:"table_box",children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Weather"}),Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Temp (\xb0)"}),Object(n.jsx)("th",{children:"Rain (%)"}),Object(n.jsx)("th",{children:"Humid (%)"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("i",{className:"wi ".concat(I(c[0].icon)," icon")})}),Object(n.jsx)("td",{children:"Today"}),Object(n.jsxs)("td",{children:[c[0].temp,"\xb0"]}),Object(n.jsxs)("td",{children:[c[0].rain,"%"]}),Object(n.jsxs)("td",{children:[c[0].humid,"%"]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("i",{className:"wi ".concat(I(c[1].icon)," icon")})}),Object(n.jsx)("td",{children:r[i+1>6?i-6:i+1]}),Object(n.jsxs)("td",{children:[c[1].temp,"\xb0"]}),Object(n.jsxs)("td",{children:[c[1].rain,"%"]}),Object(n.jsxs)("td",{children:[c[1].humid,"%"]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("i",{className:"wi ".concat(I(c[2].icon)," icon")})}),Object(n.jsx)("td",{children:r[i+2>6?i-5:i+2]}),Object(n.jsxs)("td",{children:[c[2].temp,"\xb0"]}),Object(n.jsxs)("td",{children:[c[2].rain,"%"]}),Object(n.jsxs)("td",{children:[c[2].humid,"%"]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("i",{className:"wi ".concat(I(c[3].icon)," icon")})}),Object(n.jsx)("td",{children:r[i+3>6?i-4:i+3]}),Object(n.jsxs)("td",{children:[c[3].temp,"\xb0"]}),Object(n.jsxs)("td",{children:[c[3].rain,"%"]}),Object(n.jsxs)("td",{children:[c[3].humid,"%"]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("i",{className:"wi ".concat(I(c[4].icon)," icon")})}),Object(n.jsx)("td",{children:r[i+4>6?i-3:i+4]}),Object(n.jsxs)("td",{children:[c[4].temp,"\xb0"]}),Object(n.jsxs)("td",{children:[c[4].rain,"%"]}),Object(n.jsxs)("td",{children:[c[4].humid,"%"]})]})]})]})},z=function(){var t=Object(s.useContext)(b),e=t.forecast;t.isError;return Object(n.jsx)("div",{className:"main-page",children:void 0!==e.city?Object(n.jsxs)("div",{children:[Object(n.jsx)(R,{}),Object(n.jsx)(P,{}),Object(n.jsx)(q,{})]}):Object(n.jsx)("div",{className:"spinner"})})};c(114);var J=function(){return Object(n.jsx)(O,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(g,{}),Object(n.jsx)(z,{})]})})},L=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,116)).then((function(e){var c=e.getCLS,n=e.getFID,s=e.getFCP,a=e.getLCP,i=e.getTTFB;c(t),n(t),s(t),a(t),i(t)}))};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(J,{})}),document.getElementById("root")),L()},8:function(t,e,c){},91:function(t,e,c){}},[[115,1,2]]]);
//# sourceMappingURL=main.67690def.chunk.js.map